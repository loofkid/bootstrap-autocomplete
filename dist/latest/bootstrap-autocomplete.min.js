!function(s){var i={};function n(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return s[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=s,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,s){"use strict";s.r(e),s.d(e,"AutoComplete",function(){return a});var i,n,o,e=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function s(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)}),r=(c.prototype.getDefaults=function(){return{}},c.prototype.getResults=function(t,e,s){return this.results},c.prototype.search=function(t,e){e(this.getResults())},e(d,n=c),d.prototype.getDefaults=function(){return{url:"",method:"get",queryKey:"q",extraData:{},timeout:void 0,requestThrottling:500}},d.prototype.search=function(t,e){var s=this;null!=this.jqXHR&&this.jqXHR.abort();var i={};i[this._settings.queryKey]=t,$.extend(i,this._settings.extraData),this.requestTID&&window.clearTimeout(this.requestTID),this.requestTID=window.setTimeout(function(){s.jqXHR=$.ajax(s._settings.url,{method:s._settings.method,data:i,timeout:s._settings.timeout}),s.jqXHR.done(function(t){e(t)}),s.jqXHR.fail(function(t){var e;null===(e=s._settings)||void 0===e||e.fail(t)}),s.jqXHR.always(function(){s.jqXHR=null})},this._settings.requestThrottling)},d),l=(h.prototype.getElPos=function(){return $.extend({},this._$el.position(),{height:this._$el[0].offsetHeight})},h.prototype.init=function(){var s=this,t=this.getElPos();this._dd=$("<div />"),this._dd.addClass("bootstrap-autocomplete dropdown-menu"),this._dd.insertAfter(this._$el),this._dd.css({top:t.top+this._$el.outerHeight(),left:t.left,width:this._$el.outerWidth()}),this._dd.on("click",".dropdown-item",function(t){var e=$(t.currentTarget).data("item");s.itemSelectedLaunchEvent(e),t.preventDefault()}),this._dd.on("keyup",function(t){if(s.shown)return 27===t.which&&(s.hide(),s._$el.focus()),!1}),this._dd.on("mouseenter",function(t){s.ddMouseover=!0}),this._dd.on("mouseleave",function(t){s.ddMouseover=!1}),this._dd.on("mouseenter",".dropdown-item",function(t){s.haveResults&&($(t.currentTarget).closest("div").find(".dropdown-item.active").removeClass("active"),$(t.currentTarget).addClass("active"),s.mouseover=!0)}),this._dd.on("mouseleave",".dropdown-item",function(t){s.mouseover=!1}),this.initialized=!0},h.prototype.checkInitialized=function(){this.initialized||this.init()},Object.defineProperty(h.prototype,"isMouseOver",{get:function(){return this.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"isDdMouseOver",{get:function(){return this.ddMouseover},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"haveResults",{get:function(){return 0<this.items.length},enumerable:!1,configurable:!0}),h.prototype.focusNextItem=function(t){var e,s;this.haveResults&&(e=this._dd.find(".dropdown-item.active"),0===(s=t?e.prev():e.next()).length&&(s=t?this._dd.find(".dropdown-item").last():this._dd.find(".dropdown-item").first()),e.removeClass("active"),s.addClass("active"))},h.prototype.focusPreviousItem=function(){this.focusNextItem(!0)},h.prototype.selectFocusItem=function(){this._dd.find(".dropdown-item.active").trigger("click")},Object.defineProperty(h.prototype,"isItemFocused",{get:function(){return!!(this._dd&&this.isShown()&&0<this._dd.find(".dropdown-item.active").length)},enumerable:!1,configurable:!0}),h.prototype.show=function(){this.shown||(this.getElPos(),this._dd.addClass("show"),this.shown=!0,this._$el.trigger("autocomplete.dd.shown"))},h.prototype.isShown=function(){return this.shown},h.prototype.hide=function(){this.shown&&(this._dd.removeClass("show"),this.shown=!1,this._$el.trigger("autocomplete.dd.hidden"))},h.prototype.updateItems=function(t,e){this.items=t,this.searchText=e,this.refreshItemList()},h.prototype.showMatchedText=function(t,e){var s=t.toLowerCase().indexOf(e.toLowerCase());if(-1<s){e=s+e.length;return t.slice(0,s)+"<b>"+t.slice(s,e)+"</b>"+t.slice(e)}return t},h.prototype.refreshItemList=function(){var n=this;this.checkInitialized(),this._dd.empty();var t,o=[];0<this.items.length?(this.items.forEach(function(t){var e,s=n.formatItem(t);"string"==typeof s&&(s={text:s}),i=n.showMatchedText(s.text,n.searchText),e=void 0!==s.html?s.html:i;var i=s.disabled,s=$("<a >");s.addClass("dropdown-item").css({overflow:"hidden","text-overflow":"ellipsis"}).html(e).data("item",t),i&&s.addClass("disabled"),o.push(s)}),this._dd.append(o),this.show()):""===this.noResultsText?this.hide():((t=$("<a >")).addClass("dropdown-item disabled").html(this.noResultsText),o.push(t),this._dd.append(o),this.show())},h.prototype.itemSelectedLaunchEvent=function(t){this._$el.trigger("autocomplete.select",t)},h),a=(u.prototype.manageInlineDataAttributes=function(){var t=this.getSettings();this._$el.data("url")&&(t.resolverSettings.url=this._$el.data("url")),this._$el.data("default-value")&&(this._defaultValue=this._$el.data("default-value")),this._$el.data("default-text")&&(this._defaultText=this._$el.data("default-text")),void 0!==this._$el.data("noresults-text")&&(t.noResultsText=this._$el.data("noresults-text"))},u.prototype.getSettings=function(){return this._settings},u.prototype.getBootstrapVersion=function(){var t="auto"===this._settings.bootstrapVersion?$.fn.button.Constructor.VERSION.split(".").map(parseInt):"4"===this._settings.bootstrapVersion?[4]:"3"===this._settings.bootstrapVersion?[3]:(console.error("INVALID value for 'bootstrapVersion' settings property: "+this._settings.bootstrapVersion+" defaulting to 4"),[4]);return t},u.prototype.convertSelectToText=function(){var t=$("<input>");t.attr("type","hidden"),t.attr("name",this._$el.attr("name")),this._defaultValue&&t.val(this._defaultValue),(this._selectHiddenField=t).insertAfter(this._$el);for(var e=$("<input>"),s=0;s<this._$el[0].attributes.length;s++){var i=this._$el[0].attributes[s];e.attr(i.name,i.value)}this._defaultText&&e.val(this._defaultText);t=this._$el.attr("required");t&&e.attr("required",t),e.data(u.NAME,this),this._$el.replaceWith(e),this._$el=e,this._el=e.get(0)},u.prototype.init=function(){this.bindDefaultEventListeners(),"ajax"===this._settings.resolver&&(this.resolver=new r(this._settings.resolverSettings)),4===this.getBootstrapVersion()[0]&&(this._dd=new l(this._$el,this._settings.formatResult,this._settings.autoSelect,this._settings.noResultsText))},u.prototype.bindDefaultEventListeners=function(){var s=this;this._$el.on("keydown",function(t){switch(t.which){case 9:s._dd.isItemFocused?s._dd.selectFocusItem():s._selectedItem||""!==s._$el.val()&&s._$el.trigger("autocomplete.freevalue",s._$el.val()),s._dd.hide();break;case 13:s._dd.isItemFocused?s._dd.selectFocusItem():s._selectedItem||""!==s._$el.val()&&s._$el.trigger("autocomplete.freevalue",s._$el.val()),s._dd.hide(),s._settings.preventEnter&&t.preventDefault();break;case 40:s._dd.focusNextItem();break;case 38:s._dd.focusPreviousItem()}}),this._$el.on("keyup",function(t){switch(t.which){case 16:case 17:case 18:case 39:case 37:case 36:case 35:break;case 13:case 27:s._dd.hide();break;case 40:case 38:break;default:s._selectedItem=null;var e=s._$el.val();s.handlerTyped(e)}}),this._$el.on("blur",function(t){!s._dd.isMouseOver&&s._dd.isDdMouseOver&&s._dd.isShown()?(setTimeout(function(){s._$el.focus()}),s._$el.focus()):s._dd.isMouseOver||(s._isSelectElement?s._dd.isItemFocused?s._dd.selectFocusItem():(null!==s._selectedItem&&""!==s._$el.val()||(""!==s._$el.val()&&null!==s._defaultValue?(s._$el.val(s._defaultText),s._selectHiddenField.val(s._defaultValue)):(s._$el.val(""),s._selectHiddenField.val("")),s._selectedItem=null),s._$el.trigger("autocomplete.select",s._selectedItem)):null===s._selectedItem&&s._$el.trigger("autocomplete.freevalue",s._$el.val()),s._dd.hide())}),this._$el.on("autocomplete.select",function(t,e){s._selectedItem=e,s.itemSelectedDefaultHandler(e)}),this._$el.on("paste",function(t){setTimeout(function(){s._$el.trigger("keyup",t)},0)})},u.prototype.handlerTyped=function(t){null!==this._settings.events.typed&&!(t=this._settings.events.typed(t,this._$el))||(t.length>=this._settings.minLength?(this._searchText=t,this.handlerPreSearch()):this._dd.hide())},u.prototype.handlerPreSearch=function(){if(null!==this._settings.events.searchPre){var t=this._settings.events.searchPre(this._searchText,this._$el);if(!t)return;this._searchText=t}this.handlerDoSearch()},u.prototype.handlerDoSearch=function(){var e=this;null!==this._settings.events.search?this._settings.events.search(this._searchText,function(t){e.postSearchCallback(t)},this._$el):this.resolver&&this.resolver.search(this._searchText,function(t){e.postSearchCallback(t)})},u.prototype.postSearchCallback=function(t){this._settings.events.searchPost&&"boolean"==typeof(t=this._settings.events.searchPost(t,this._$el))&&!t||this.handlerStartShow(t)},u.prototype.handlerStartShow=function(t){this._dd.updateItems(t,this._searchText)},u.prototype.itemSelectedDefaultHandler=function(t){var e;null!=t?("string"==typeof(e=this._settings.formatResult(t))&&(e={text:e}),this._$el.val(e.text),this._isSelectElement&&this._selectHiddenField.val(e.value)):(this._$el.val(""),this._isSelectElement&&this._selectHiddenField.val("")),this._selectedItem=t,this._dd.hide()},u.prototype.defaultFormatResult=function(t){return"string"==typeof t?{text:t}:t.text?t:{text:t.toString()}},u.prototype.manageAPI=function(t,e){"set"===t?this.itemSelectedDefaultHandler(e):"clear"===t?this.itemSelectedDefaultHandler(null):"show"===t?this._$el.trigger("keyup"):"updateResolver"===t&&(this.resolver=new r(e))},u.NAME="autoComplete",u);function u(t,e){this._selectedItem=null,this._defaultValue=null,this._defaultText=null,this._isSelectElement=!1,this._settings={resolver:"ajax",resolverSettings:{},minLength:3,valueKey:"value",formatResult:this.defaultFormatResult,autoSelect:!0,noResultsText:"No results",bootstrapVersion:"auto",preventEnter:!1,events:{typed:null,searchPre:null,search:null,searchPost:null,select:null,focus:null}},this._el=t,this._$el=$(this._el),this._$el.is("select")&&(this._isSelectElement=!0),this.manageInlineDataAttributes(),"object"==typeof e&&(this._settings=$.extend(!0,{},this.getSettings(),e)),this._isSelectElement&&this.convertSelectToText(),this.init()}function h(t,e,s,i){this.initialized=!1,this.shown=!1,this.items=[],this.ddMouseover=!1,this._$el=t,this.formatItem=e,this.autoSelect=s,this.noResultsText=i}function d(t){return n.call(this,t)||this}function c(t){this._settings=$.extend(!0,{},this.getDefaults(),t)}o=jQuery,window,document,o.fn[a.NAME]=function(e,s){return this.each(function(){var t;(t=o(this).data(a.NAME))||(t=new a(this,e),o(this).data(a.NAME,t)),t.manageAPI(e,s)})}}]);